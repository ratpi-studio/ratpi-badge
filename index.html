<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <style>
    body {
      margin: 0;
      padding: 0;
      background: transparent;
      flex: 1;
      display: flex;
      justify-content: center;
    }

    .ratpi-badge {
      margin: auto;
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      border-radius: 12px;
      padding: 0.4rem 0.8rem;
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      font-size: 0.75rem;
      color: white;
      text-decoration: none;
      font-family: sans-serif;
      z-index: 9999;
      transition: transform 0.2s ease, background 0.3s ease, color 0.3s ease, border 0.3s ease;
      border: 1px solid rgba(255, 255, 255, 0.3);
      background: rgba(255, 255, 255, 0.15);
      overflow: hidden;
    }

    .ratpi-badge.light {
      background: rgba(0, 0, 0, 0.15);
      color: white;
      border: 1px solid rgba(0, 0, 0, 0.3);
    }

    .ratpi-badge:hover {
      transform: scale(1.05);
    }

    .mouse {
      display: inline-block;
      transition: transform 0.3s ease;
    }

    .mouse.animate {
      animation: wiggle 1.5s infinite ease-in-out;
    }

    @keyframes wiggle {
      0%, 100% { transform: rotate(0deg) scale(1); }
      25% { transform: rotate(20deg) scale(1.2); }
      75% { transform: rotate(-20deg) scale(1.2); }
    }

    @media (prefers-color-scheme: light) {
      .ratpi-badge.auto-theme {
        background: rgba(0, 0, 0, 0.15);
        color: white;
        border: 1px solid rgba(0, 0, 0, 0.3);
      }
    }

    @media (prefers-color-scheme: dark) {
      .ratpi-badge.auto-theme {
        background: rgba(255, 255, 255, 0.15);
        color: black;
        border: 1px solid rgba(255, 255, 255, 0.3);
      }
    }

    .running-mouse {
      position: absolute;
      bottom: 0;
      left: -60px;
      width: 60px;
      height: 30px;
      background: url('https://ratpi-studio.github.io/ratpi-badge/sprite-animation.gif') center/contain no-repeat;
      animation: runMouse 4s linear forwards;
      pointer-events: none;
    }

    @keyframes runMouse {
      0% { left: -60px; }
      100% { left: 100%; }
    }

    .hide-text {
      opacity: 0;
      transition: opacity 0.5s;
    }
  </style>
</head>
<body>
  <a href="https://ratpi-studio.fr" class="ratpi-badge" target="_blank" rel="noopener noreferrer">
    <span class="badge-text">Made with</span>
    <span class="mouse">üê≠</span>
    <span class="badge-text">by Ratpi Studio!</span>
  </a>

  <script>
    (function() {
      const params = new URLSearchParams(window.location.search);
      const badge = document.querySelector('.ratpi-badge');
      const mouse = document.querySelector('.mouse');
      const texts = document.querySelectorAll('.badge-text');

      const animate = params.get('animate');
      if (animate === 'loop') {
        mouse.classList.add('animate');
      }

      const theme = params.get('theme');
      if (theme === 'light') {
        badge.classList.add('light');
      } else if (theme === 'auto') {
        badge.classList.add('auto-theme');
      }

      function spawnRunningMouse() {
        const runner = document.createElement('div');
        runner.classList.add('running-mouse');
        badge.appendChild(runner);

        texts.forEach(t => t.classList.add('hide-text'));

        setTimeout(() => {
          runner.remove();
          texts.forEach(t => t.classList.remove('hide-text'));
        }, 4000);

        const nextRun = Math.random() * 20000 + 20000;
        setTimeout(spawnRunningMouse, nextRun);
      }

      setTimeout(spawnRunningMouse, Math.random() * 10000 + 5000);
    })();
  </script>
</body>
</html>
